<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_12) on Tue Sep 25 13:03:34 EDT 2007 -->
<TITLE>
AeLocationPathUtils (ActiveBpel API)
</TITLE>

<META NAME="keywords" CONTENT="org.activebpel.rt.bpel.def.util.AeLocationPathUtils class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="AeLocationPathUtils (ActiveBpel API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeLocationPathUtils.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeDefUtil.html" title="class in org.activebpel.rt.bpel.def.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeVariableData.html" title="class in org.activebpel.rt.bpel.def.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeLocationPathUtils.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.activebpel.rt.bpel.def.util</FONT>
<BR>
Class AeLocationPathUtils</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by"><B>org.activebpel.rt.bpel.def.util.AeLocationPathUtils</B>
</PRE>
<HR>
<DL>
<DT>public class <B>AeLocationPathUtils</B><DT>extends java.lang.Object</DL>

<P>
Utils for extracting info from the bpel location paths.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#AeLocationPathUtils()">AeLocationPathUtils</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#addInstanceInfo(java.util.Set, java.lang.String)">addInstanceInfo</A></B>(java.util.Set&nbsp;aSetOfPaths,
                java.lang.String&nbsp;aActivityPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Converts the paths in the collection to include instance information
 if the referenced fall within a parallel forEach scope.

 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#addInstanceInfo(java.lang.String, java.lang.String)">addInstanceInfo</A></B>(java.lang.String&nbsp;aAncestorNodeWithInstanceInfo,
                java.lang.String&nbsp;aPathThatNeedsInstanceInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given some root path with instance info and some other path that is nested
 other that root, return a version of the second path that includes the instance
 information.

 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#createPathToInstanceNumberMap(java.lang.String)">createPathToInstanceNumberMap</A></B>(java.lang.String&nbsp;aNodePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Builds a hash map of activity node paths and their corresponding instance 
 number. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getActivityName(java.lang.String)">getActivityName</A></B>(java.lang.String&nbsp;aLocationPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of the activity referenced by the given path. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getCorrelationParent(java.lang.String)">getCorrelationParent</A></B>(java.lang.String&nbsp;aCorrelationPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the path for the parent of this correlation set</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getCorrelationSetName(java.lang.String)">getCorrelationSetName</A></B>(java.lang.String&nbsp;aCorrelationPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of the correlation set referred to by this path</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getDynamicScopeContainerNodePath(java.lang.String)">getDynamicScopeContainerNodePath</A></B>(java.lang.String&nbsp;aScopeInstancePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a node path this method returns a substring, from the beginning of 
 the path, of the last dynamic scope container activity in the path that 
 contains a child instance scope.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getFinalInstanceValue(int, int, int)">getFinalInstanceValue</A></B>(int&nbsp;aInstanceValue,
                      int&nbsp;aStart,
                      int&nbsp;aFinal)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given the current instance value for a parallel forEach and its start and
 final values, calculate what the instance value was for the final instance
 (if applicable).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getName(java.lang.String, int)">getName</A></B>(java.lang.String&nbsp;aLocationPath,
        int&nbsp;aIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extracts the value of the name attribute from the path or returns null
 if there isn't one.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getNodePathInstanceNum(java.lang.String)">getNodePathInstanceNum</A></B>(java.lang.String&nbsp;aNodePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper method. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getParentPath(java.lang.String)">getParentPath</A></B>(java.lang.String&nbsp;aPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper routine to get the path to the forEach.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getScopeInstanceNodePath(java.lang.String)">getScopeInstanceNodePath</A></B>(java.lang.String&nbsp;aNodePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the node path of the parent scope instance node from the given 
 node path.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getScopeNodePath(java.lang.String)">getScopeNodePath</A></B>(java.lang.String&nbsp;aNodePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the immediate instance scope path of the given node path.

 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getStartInstanceValue(int, int, int)">getStartInstanceValue</A></B>(int&nbsp;aInstanceValue,
                      int&nbsp;aStart,
                      int&nbsp;aFinal)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given the current instance value for a parallel forEach and its start and
 final values, calculate what the instance value was for the starting instance
 (if applicable).

 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#getSubNodePathInstance(java.lang.String, java.lang.String)">getSubNodePathInstance</A></B>(java.lang.String&nbsp;aInstanceNodePath,
                       java.lang.String&nbsp;aNodePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given an instance node path and a non-instance sub node path this method 
 returns the corresponding immediate parent scope instance number for the 
 given non-instance sub node path.
 
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#hasInstanceInfo(java.lang.String)">hasInstanceInfo</A></B>(java.lang.String&nbsp;aNodePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the given location path has instance information.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#isProcessPath(java.lang.String)">isProcessPath</A></B>(java.lang.String&nbsp;aPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the path provided points to the process</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#removeInstanceInfo(java.lang.String)">removeInstanceInfo</A></B>(java.lang.String&nbsp;aNodePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper method for stripping any and all "[instance()=XXX]" substrings from the given node path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeLocationPathUtils.html#splitScopes(java.lang.String)">splitScopes</A></B>(java.lang.String&nbsp;aActivityPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Splits the activity path into a series of paths to each of its scopes - starting
 with the first parallel forEach scope.

 </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="AeLocationPathUtils()"><!-- --></A><H3>
AeLocationPathUtils</H3>
<PRE>
public <B>AeLocationPathUtils</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getParentPath(java.lang.String)"><!-- --></A><H3>
getParentPath</H3>
<PRE>
public static java.lang.String <B>getParentPath</B>(java.lang.String&nbsp;aPath)</PRE>
<DL>
<DD>Helper routine to get the path to the forEach.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNodePathInstanceNum(java.lang.String)"><!-- --></A><H3>
getNodePathInstanceNum</H3>
<PRE>
public static int <B>getNodePathInstanceNum</B>(java.lang.String&nbsp;aNodePath)</PRE>
<DL>
<DD>Helper method. If the given node path is terminated with an instance number, ie "[instance()=XXX]",
 then that instance number is return otherwise -1 is returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aNodePath</CODE> - 
<DT><B>Returns:</B><DD>int the node path's intance number or -1 if not specified.</DL>
</DD>
</DL>
<HR>

<A NAME="addInstanceInfo(java.util.Set, java.lang.String)"><!-- --></A><H3>
addInstanceInfo</H3>
<PRE>
public static java.util.Set <B>addInstanceInfo</B>(java.util.Set&nbsp;aSetOfPaths,
                                            java.lang.String&nbsp;aActivityPath)</PRE>
<DL>
<DD>Converts the paths in the collection to include instance information
 if the referenced fall within a parallel forEach scope.

 Use case:

 The variables that need to be locked for a given activity are determined by
 visiting the process def when the process definition is first loaded from the
 src xml. This process does not take into account that a variable might be
 declared within a parallel forEach. If this variable is declared within a
 parallel forEach, then the actual runtime path to the variable will include
 the instance information. The conversion here is necessary in order to insert
 the instance info into the path so we can be sure that we're locking the proper
 variable.

 i.e. Consider the following collection of variable paths to lock:

    /process/variables/variable[@name='p1_v1']
    /process/forEach/scope[@name='s1']/variables/variable[@name='s1_v1']
    /process/forEach/scope[@name='s1']/sequence/scope[@name='s2']/variables/variable[@name='s2_v1']
    /process/forEach/scope[@name='s1']/sequence/scope[@name='s2']/flow/scope[@name='s3']/variables/variable[@name='s3_v1']

    The variable p1_v1 is declared at the process level and therefore does
    need to change. We only need to change variables declared within scopes
    that are enclosed within a parallel forEach.

    The paths to s1_v1, s2_v1, s3_v1 all need the instance info for the parallel
    forEach instance scope. As such, the collection returned will contain
    the following paths:

    /process/variables/variable[@name='p1_v1']
    /process/forEach/scope[@name='s1'][instance()=1]/variables/variable[@name='s1_v1']
    /process/forEach/scope[@name='s1'][instance()=1]/sequence/scope[@name='s2']/variables/variable[@name='s2_v1']
    /process/forEach/scope[@name='s1'][instance()=1]/sequence/scope[@name='s2']/flow/scope[@name='s3']/variables/variable[@name='s3_v1']
                                      ^------------^: notice the instance info
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aSetOfPaths</CODE> - <DD><CODE>aActivityPath</CODE> - - should contain instance information</DL>
</DD>
</DL>
<HR>

<A NAME="splitScopes(java.lang.String)"><!-- --></A><H3>
splitScopes</H3>
<PRE>
protected static java.util.List <B>splitScopes</B>(java.lang.String&nbsp;aActivityPath)</PRE>
<DL>
<DD>Splits the activity path into a series of paths to each of its scopes - starting
 with the first parallel forEach scope.

 The following path:

    <code>/process/sequence/scope/flow/forEach/scope[@name='s1'][instance()=1]/sequence/scope[@name='s2']/sequence/assign</code>

    would be split into a list like this:

    <code>/process/sequence/scope/flow/forEach/scope[@name='s1'][instance()=1]/sequence/scope[@name='s2']</code>
    <code>/process/sequence/scope/flow/forEach/scope[@name='s1'][instance()=1]</code>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aActivityPath</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getScopeNodePath(java.lang.String)"><!-- --></A><H3>
getScopeNodePath</H3>
<PRE>
public static java.lang.String <B>getScopeNodePath</B>(java.lang.String&nbsp;aNodePath)</PRE>
<DL>
<DD>Returns the immediate instance scope path of the given node path.

 E.g.

 aNodePath     "/process/flow/forEach[@name='ForEach']/scope[instance()=2]/sequence/wait"
   will return "/process/flow/forEach[@name='ForEach']/scope[instance()=2]"
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aNodePath</CODE> - a model node path.
<DT><B>Returns:</B><DD>String the immediate instance scope path of the given node path or null
    if the node path doesn't contain a scope instance.</DL>
</DD>
</DL>
<HR>

<A NAME="addInstanceInfo(java.lang.String, java.lang.String)"><!-- --></A><H3>
addInstanceInfo</H3>
<PRE>
public static java.lang.String <B>addInstanceInfo</B>(java.lang.String&nbsp;aAncestorNodeWithInstanceInfo,
                                               java.lang.String&nbsp;aPathThatNeedsInstanceInfo)</PRE>
<DL>
<DD>Given some root path with instance info and some other path that is nested
 other that root, return a version of the second path that includes the instance
 information.

 e.g. given the following paths
    ancestor = /process/forEach/scope[@name='s1']/sequence/forEach/scope[@name='s4'][instance()=1]
    path     = /process/forEach/scope[@name='s1']/sequence/forEach/scope[@name='s4']/sequence/forEach/scope[@name='s5']/invoke[@name='I']
 return the following:
               /process/forEach/scope[@name='s1']/sequence/forEach/scope[@name='s4'][instance()=1]/sequence/forEach/scope[@name='s5']/invoke[@name='I']
                  ------------* notice that the instance info has been added -----* ^------------^
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aAncestorNodeWithInstanceInfo</CODE> - <DD><CODE>aPathThatNeedsInstanceInfo</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getStartInstanceValue(int, int, int)"><!-- --></A><H3>
getStartInstanceValue</H3>
<PRE>
public static int <B>getStartInstanceValue</B>(int&nbsp;aInstanceValue,
                                        int&nbsp;aStart,
                                        int&nbsp;aFinal)</PRE>
<DL>
<DD>Given the current instance value for a parallel forEach and its start and
 final values, calculate what the instance value was for the starting instance
 (if applicable).

 i.e. paths for a parallel forEach include instance info. If a parallel forEach
      evaluates its start and final expressions to 11 and 13 respectively, then
      the paths created for the scopes will be as follows:

      /process/flow/forEach/scope[instance()=1]
      /process/flow/forEach/scope[instance()=2]
      /process/flow/forEach/scope[instance()=3]

      another execution of the same parallel forEach with start and final
      expressions of 11 and 13 will generate the following paths

      /process/flow/forEach/scope[instance()=4]
      /process/flow/forEach/scope[instance()=5]
      /process/flow/forEach/scope[instance()=6]
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aInstanceValue</CODE> - <DD><CODE>aStart</CODE> - <DD><CODE>aFinal</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getFinalInstanceValue(int, int, int)"><!-- --></A><H3>
getFinalInstanceValue</H3>
<PRE>
public static int <B>getFinalInstanceValue</B>(int&nbsp;aInstanceValue,
                                        int&nbsp;aStart,
                                        int&nbsp;aFinal)</PRE>
<DL>
<DD>Given the current instance value for a parallel forEach and its start and
 final values, calculate what the instance value was for the final instance
 (if applicable).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aInstanceValue</CODE> - <DD><CODE>aStart</CODE> - <DD><CODE>aFinal</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getCorrelationParent(java.lang.String)"><!-- --></A><H3>
getCorrelationParent</H3>
<PRE>
public static java.lang.String <B>getCorrelationParent</B>(java.lang.String&nbsp;aCorrelationPath)</PRE>
<DL>
<DD>Gets the path for the parent of this correlation set
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aCorrelationPath</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getCorrelationSetName(java.lang.String)"><!-- --></A><H3>
getCorrelationSetName</H3>
<PRE>
public static java.lang.String <B>getCorrelationSetName</B>(java.lang.String&nbsp;aCorrelationPath)</PRE>
<DL>
<DD>Gets the name of the correlation set referred to by this path
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aCorrelationPath</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getActivityName(java.lang.String)"><!-- --></A><H3>
getActivityName</H3>
<PRE>
public static java.lang.String <B>getActivityName</B>(java.lang.String&nbsp;aLocationPath)</PRE>
<DL>
<DD>Gets the name of the activity referenced by the given path. If the activity
 doesn't have a name then null is returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLocationPath</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getName(java.lang.String, int)"><!-- --></A><H3>
getName</H3>
<PRE>
private static java.lang.String <B>getName</B>(java.lang.String&nbsp;aLocationPath,
                                        int&nbsp;aIndex)</PRE>
<DL>
<DD>Extracts the value of the name attribute from the path or returns null
 if there isn't one.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLocationPath</CODE> - - the location path<DD><CODE>aIndex</CODE> - - index to start searching from</DL>
</DD>
</DL>
<HR>

<A NAME="removeInstanceInfo(java.lang.String)"><!-- --></A><H3>
removeInstanceInfo</H3>
<PRE>
public static java.lang.String <B>removeInstanceInfo</B>(java.lang.String&nbsp;aNodePath)</PRE>
<DL>
<DD>Helper method for stripping any and all "[instance()=XXX]" substrings from the given node path.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aNodePath</CODE> - 
<DT><B>Returns:</B><DD>the node path minus any instance() info.</DL>
</DD>
</DL>
<HR>

<A NAME="hasInstanceInfo(java.lang.String)"><!-- --></A><H3>
hasInstanceInfo</H3>
<PRE>
public static boolean <B>hasInstanceInfo</B>(java.lang.String&nbsp;aNodePath)</PRE>
<DL>
<DD>Returns true if the given location path has instance information.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aNodePath</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="isProcessPath(java.lang.String)"><!-- --></A><H3>
isProcessPath</H3>
<PRE>
public static boolean <B>isProcessPath</B>(java.lang.String&nbsp;aPath)</PRE>
<DL>
<DD>Returns true if the path provided points to the process
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aPath</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getDynamicScopeContainerNodePath(java.lang.String)"><!-- --></A><H3>
getDynamicScopeContainerNodePath</H3>
<PRE>
public static java.lang.String <B>getDynamicScopeContainerNodePath</B>(java.lang.String&nbsp;aScopeInstancePath)</PRE>
<DL>
<DD>Given a node path this method returns a substring, from the beginning of 
 the path, of the last dynamic scope container activity in the path that 
 contains a child instance scope.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aScopeInstancePath</CODE> - the node path.
<DT><B>Returns:</B><DD>String the last dynamic scope container instance activity path or 
         null if not found.</DL>
</DD>
</DL>
<HR>

<A NAME="getScopeInstanceNodePath(java.lang.String)"><!-- --></A><H3>
getScopeInstanceNodePath</H3>
<PRE>
public static java.lang.String <B>getScopeInstanceNodePath</B>(java.lang.String&nbsp;aNodePath)</PRE>
<DL>
<DD>Returns the node path of the parent scope instance node from the given 
 node path.  Returns null if the node path does not contain an instance 
 scope node.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aNodePath</CODE> - 
<DT><B>Returns:</B><DD>String returns the node path of the hosting scope instance node 
         for the given node path or null if the node path doesn't contain 
         an instance scope.</DL>
</DD>
</DL>
<HR>

<A NAME="getSubNodePathInstance(java.lang.String, java.lang.String)"><!-- --></A><H3>
getSubNodePathInstance</H3>
<PRE>
public static int <B>getSubNodePathInstance</B>(java.lang.String&nbsp;aInstanceNodePath,
                                         java.lang.String&nbsp;aNodePath)</PRE>
<DL>
<DD>Given an instance node path and a non-instance sub node path this method 
 returns the corresponding immediate parent scope instance number for the 
 given non-instance sub node path.
 
 E.g. 
 aInstanceNodePath = "/process/flow/forEach[@name='ForEach']/scope[instance()=2]/sequence/wait"
         aNodePath = "/process/flow/forEach[@name='ForEach']"
 would yield 2
 
 aInstanceNodePath = "/process/flow/forEach[@name='ForEach']/scope[instance()=2]/sequence/forEach[@name='NestedForEach']/scope[@name='NestedScope'][instance()=1]/sequence/assign"
         aNodePath = "/process/flow/forEach[@name='ForEach']/scope/sequence/forEach[@name='NestedForEach']"
 would yield 1
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aInstanceNodePath</CODE> - a node path containing scope instance information.<DD><CODE>aNodePath</CODE> - a non-instance node path.
<DT><B>Returns:</B><DD>int the scope instance number or -1 if not located.</DL>
</DD>
</DL>
<HR>

<A NAME="createPathToInstanceNumberMap(java.lang.String)"><!-- --></A><H3>
createPathToInstanceNumberMap</H3>
<PRE>
public static java.util.Map <B>createPathToInstanceNumberMap</B>(java.lang.String&nbsp;aNodePath)</PRE>
<DL>
<DD>Builds a hash map of activity node paths and their corresponding instance 
 number. The map key is a complete activity path and the value is its 
 instance number. This is used in order to determine which scope instance 
 should be displayed when setting the state of the process model. 
 
 For example, if you select a node in the outline with the following path:
 
 /process/flow/forEach/scope[instance()=5]/flow/forEach/scope[instance()=10]
 
 We will add the following entries to the map
 
 /process/flow/forEach=5
 /process/flow/forEach/scope[instance()=5]/flow/forEach=10
 
 This serves as a hint that when we visit the process model and restore the
 object states, we should use the data for instance 5 for the first 
 forEach's scope and instance 10 for the nested forEach.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aNodePath</CODE> - a node path containing potentially nested for each 
        activities.
<DT><B>Returns:</B><DD>Map</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeLocationPathUtils.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeDefUtil.html" title="class in org.activebpel.rt.bpel.def.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/def/util/AeVariableData.html" title="class in org.activebpel.rt.bpel.def.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeLocationPathUtils.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
                    <i>Copyright &#169; 2006 Active Endpoints. All Rights Reserved.</i>

</BODY>
</HTML>
