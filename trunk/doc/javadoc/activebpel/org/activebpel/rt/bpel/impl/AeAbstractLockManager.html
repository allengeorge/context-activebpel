<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_12) on Tue Sep 25 13:03:42 EDT 2007 -->
<TITLE>
AeAbstractLockManager (ActiveBpel API)
</TITLE>

<META NAME="keywords" CONTENT="org.activebpel.rt.bpel.impl.AeAbstractLockManager class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="AeAbstractLockManager (ActiveBpel API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeAbstractLockManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractBpelObject.html" title="class in org.activebpel.rt.bpel.impl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.AeLock.html" title="class in org.activebpel.rt.bpel.impl"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeAbstractLockManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.activebpel.rt.bpel.impl</FONT>
<BR>
Class AeAbstractLockManager</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html" title="class in org.activebpel.rt.bpel.impl">org.activebpel.rt.bpel.impl.AeManagerAdapter</A>
      <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by"><B>org.activebpel.rt.bpel.impl.AeAbstractLockManager</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html" title="interface in org.activebpel.rt.bpel.impl">IAeManager</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeInMemoryLockManager.html" title="class in org.activebpel.rt.bpel.impl">AeInMemoryLockManager</A></DD>
</DL>
<HR>
<DL>
<DT>public abstract class <B>AeAbstractLockManager</B><DT>extends <A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html" title="class in org.activebpel.rt.bpel.impl">AeManagerAdapter</A><DT>implements <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager</A></DL>

<P>
A reentrant implementation of the lock manager interface that uses reference
 counts to determine when to free locks. The underlying locking mechanism is
 left to be implemented through the <code>acquireLockInternal</code> and
 <code>releaseLockInternal</code> methods.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.AeLock.html" title="class in org.activebpel.rt.bpel.impl">AeAbstractLockManager.AeLock</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This class implements a simple lock object which contains both a QName and correlation
 hash. </TD>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_org.activebpel.rt.bpel.impl.IAeLockManager"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Nested classes inherited from class org.activebpel.rt.bpel.impl.<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#mThreadsToLocks">mThreadsToLocks</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map of maps that tracks what threads own what locks. </TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.activebpel.rt.bpel.impl.AeManagerAdapter"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class org.activebpel.rt.bpel.impl.<A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html" title="class in org.activebpel.rt.bpel.impl">AeManagerAdapter</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#AeAbstractLockManager()">AeAbstractLockManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#acquireLock(javax.xml.namespace.QName, int, int)">acquireLock</A></B>(javax.xml.namespace.QName&nbsp;aQName,
            int&nbsp;aLockId,
            int&nbsp;aTimeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Template method that attempts to acquire the lock for the specified timeout period.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#acquireLockInternal(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)">acquireLockInternal</A></B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allows for subclass to obtain lock in its own way.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#bindLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)">bindLock</A></B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Binds the lock to the current thread. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#decrementReferenceCount(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)">decrementReferenceCount</A></B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decrements the reference count for this lock and returns true if the lock
 is no longer being referenced. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#getLocksOwnedByThread(boolean)">getLocksOwnedByThread</A></B>(boolean&nbsp;aCreateIfNull)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the locks owned by thread, creating a map to store the locks
 if the thread doesn't own any locks and the create flag is true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#getSleepInterval()">getSleepInterval</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the amount of time that the lock manager thread will sleep in between attempts
 to acquire the lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#incrementReferenceCount(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)">incrementReferenceCount</A></B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Increments the reference count for this lock. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#releaseLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)">releaseLock</A></B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the reference count for the lock reaches zero then the impl here will 
 call the <code>releaseLockInternal</code> method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#releaseLockInternal(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)">releaseLockInternal</A></B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by <code>releaseLock</code> when the reference count for the lock
 reaches zero.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#threadOwnsLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)">threadOwnsLock</A></B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the calling Thread already owns this lock and increments
 the reference counter for the lock if already owned.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.html#unbindLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)">unbindLock</A></B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unbinds the lock from the current thread. </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.activebpel.rt.bpel.impl.AeManagerAdapter"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.activebpel.rt.bpel.impl.<A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html" title="class in org.activebpel.rt.bpel.impl">AeManagerAdapter</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html#accept(org.activebpel.rt.bpel.impl.IAeManagerVisitor)">accept</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html#create()">create</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html#destroy()">destroy</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html#getEngine()">getEngine</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html#prepareToStart()">prepareToStart</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html#setEngine(org.activebpel.rt.bpel.impl.IAeBusinessProcessEngineInternal)">setEngine</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html#start()">start</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/AeManagerAdapter.html#stop()">stop</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.activebpel.rt.bpel.impl.IAeManager"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from interface org.activebpel.rt.bpel.impl.<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html" title="interface in org.activebpel.rt.bpel.impl">IAeManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html#accept(org.activebpel.rt.bpel.impl.IAeManagerVisitor)">accept</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html#create()">create</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html#destroy()">destroy</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html#getEngine()">getEngine</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html#prepareToStart()">prepareToStart</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html#setEngine(org.activebpel.rt.bpel.impl.IAeBusinessProcessEngineInternal)">setEngine</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html#start()">start</A>, <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeManager.html#stop()">stop</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="mThreadsToLocks"><!-- --></A><H3>
mThreadsToLocks</H3>
<PRE>
private java.util.Map <B>mThreadsToLocks</B></PRE>
<DL>
<DD>Map of maps that tracks what threads own what locks. Outer map is thread to lock map. Inner map is simply lock to lock.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="AeAbstractLockManager()"><!-- --></A><H3>
AeAbstractLockManager</H3>
<PRE>
public <B>AeAbstractLockManager</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="acquireLock(javax.xml.namespace.QName, int, int)"><!-- --></A><H3>
acquireLock</H3>
<PRE>
public final <A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A> <B>acquireLock</B>(javax.xml.namespace.QName&nbsp;aQName,
                                                int&nbsp;aLockId,
                                                int&nbsp;aTimeout)
                                         throws <A HREF="../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></PRE>
<DL>
<DD>Template method that attempts to acquire the lock for the specified timeout period.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.html#acquireLock(javax.xml.namespace.QName, int, int)">acquireLock</A></CODE> in interface <CODE><A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aQName</CODE> - Qualified name of the key<DD><CODE>aLockId</CODE> - id of the value we're trying to lock (should be unique w/in the qname provided)<DD><CODE>aTimeout</CODE> - max number of seconds to wait to acquire lock
<DT><B>Returns:</B><DD>IAeLock The lock that was acquired, should be used in the call to release lock.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.html#acquireLock(javax.xml.namespace.QName, int, int)"><CODE>IAeLockManager.acquireLock(javax.xml.namespace.QName, int, int)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="releaseLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)"><!-- --></A><H3>
releaseLock</H3>
<PRE>
public final void <B>releaseLock</B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</PRE>
<DL>
<DD>If the reference count for the lock reaches zero then the impl here will 
 call the <code>releaseLockInternal</code> method.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.html#releaseLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)">releaseLock</A></CODE> in interface <CODE><A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLock</CODE> - <DT><B>See Also:</B><DD><A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.html#releaseLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)"><CODE>IAeLockManager.releaseLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getSleepInterval()"><!-- --></A><H3>
getSleepInterval</H3>
<PRE>
protected long <B>getSleepInterval</B>()</PRE>
<DL>
<DD>Gets the amount of time that the lock manager thread will sleep in between attempts
 to acquire the lock.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>amount of time to sleep in between attempts to acquire lock</DL>
</DD>
</DL>
<HR>

<A NAME="releaseLockInternal(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)"><!-- --></A><H3>
releaseLockInternal</H3>
<PRE>
protected abstract void <B>releaseLockInternal</B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</PRE>
<DL>
<DD>Called by <code>releaseLock</code> when the reference count for the lock
 reaches zero.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLock</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="acquireLockInternal(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)"><!-- --></A><H3>
acquireLockInternal</H3>
<PRE>
protected abstract boolean <B>acquireLockInternal</B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)
                                        throws <A HREF="../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></PRE>
<DL>
<DD>Allows for subclass to obtain lock in its own way.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLock</CODE> - 
<DT><B>Returns:</B><DD>true if the lock was acquired
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="threadOwnsLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)"><!-- --></A><H3>
threadOwnsLock</H3>
<PRE>
protected boolean <B>threadOwnsLock</B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</PRE>
<DL>
<DD>Returns true if the calling Thread already owns this lock and increments
 the reference counter for the lock if already owned.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLock</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getLocksOwnedByThread(boolean)"><!-- --></A><H3>
getLocksOwnedByThread</H3>
<PRE>
protected java.util.Map <B>getLocksOwnedByThread</B>(boolean&nbsp;aCreateIfNull)</PRE>
<DL>
<DD>Gets the locks owned by thread, creating a map to store the locks
 if the thread doesn't own any locks and the create flag is true.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aCreateIfNull</CODE> - flag controls creation of underlying map if none was found.
<DT><B>Returns:</B><DD>map of locks owned by thread or null if there were none and the flag is false</DL>
</DD>
</DL>
<HR>

<A NAME="bindLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)"><!-- --></A><H3>
bindLock</H3>
<PRE>
protected void <B>bindLock</B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</PRE>
<DL>
<DD>Binds the lock to the current thread. Called when the lock has been acquired.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLock</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="incrementReferenceCount(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)"><!-- --></A><H3>
incrementReferenceCount</H3>
<PRE>
protected void <B>incrementReferenceCount</B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</PRE>
<DL>
<DD>Increments the reference count for this lock. Broken out here in order
 to isolate the cast of the interface to the class.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLock</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="decrementReferenceCount(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)"><!-- --></A><H3>
decrementReferenceCount</H3>
<PRE>
protected boolean <B>decrementReferenceCount</B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</PRE>
<DL>
<DD>Decrements the reference count for this lock and returns true if the lock
 is no longer being referenced. Broken out here in order to isolate the
 cast of the interface to the class.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLock</CODE> - 
<DT><B>Returns:</B><DD>true if the lock is no longer being referenced.</DL>
</DD>
</DL>
<HR>

<A NAME="unbindLock(org.activebpel.rt.bpel.impl.IAeLockManager.IAeLock)"><!-- --></A><H3>
unbindLock</H3>
<PRE>
protected boolean <B>unbindLock</B>(<A HREF="../../../../../org/activebpel/rt/bpel/impl/IAeLockManager.IAeLock.html" title="interface in org.activebpel.rt.bpel.impl">IAeLockManager.IAeLock</A>&nbsp;aLock)</PRE>
<DL>
<DD>Unbinds the lock from the current thread. If the reference count for the lock
 goes to zero then the lock will be freed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLock</CODE> - 
<DT><B>Returns:</B><DD>true if there are no more references to the underlying lock</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeAbstractLockManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractBpelObject.html" title="class in org.activebpel.rt.bpel.impl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/activebpel/rt/bpel/impl/AeAbstractLockManager.AeLock.html" title="class in org.activebpel.rt.bpel.impl"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeAbstractLockManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
                    <i>Copyright &#169; 2006 Active Endpoints. All Rights Reserved.</i>

</BODY>
</HTML>
