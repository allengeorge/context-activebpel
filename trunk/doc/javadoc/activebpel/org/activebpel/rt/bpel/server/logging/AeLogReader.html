<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_12) on Tue Sep 25 13:03:26 EDT 2007 -->
<TITLE>
AeLogReader (ActiveBpel API)
</TITLE>

<META NAME="keywords" CONTENT="org.activebpel.rt.bpel.server.logging.AeLogReader class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="AeLogReader (ActiveBpel API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeLogReader.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLoggingFilter.AeNoDeadPathFilter.html" title="class in org.activebpel.rt.bpel.server.logging"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.AeLogEntry.html" title="class in org.activebpel.rt.bpel.server.logging"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeLogReader.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.activebpel.rt.bpel.server.logging</FONT>
<BR>
Class AeLogReader</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">org.activebpel.rt.bpel.server.engine.storage.sql.AeSQLObject</A>
      <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by"><B>org.activebpel.rt.bpel.server.logging.AeLogReader</B>
</PRE>
<HR>
<DL>
<DT>public class <B>AeLogReader</B><DT>extends <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">AeSQLObject</A></DL>

<P>
Responsible for reading the log for a given process out of the database. The
 log gets displayed in the admin console web page as well as the remote debugging
 console window so we don't want to return the entire log file if it's huge. 
 Instead, we'll return a configurable head and tail portion of the log.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.AeLogEntry.html" title="class in org.activebpel.rt.bpel.server.logging">AeLogReader.AeLogEntry</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Container class for a clob row. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.AeLogEntryHandler.html" title="class in org.activebpel.rt.bpel.server.logging">AeLogReader.AeLogEntryHandler</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Converts the ResultSet into a <code>java.util.List</code> of AeLogEntry objects
 sorted by their counter value. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.AeSmallLogHandler.html" title="class in org.activebpel.rt.bpel.server.logging">AeLogReader.AeSmallLogHandler</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A ResultSetHandler that's responsible for walking the entire result set
 and returning a String that represents the concatenation of all of the clobs.
 </TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#mHeadLimit">mHeadLimit</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max number of lines to include in the head of the log</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#mLogEntries">mLogEntries</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list of log entries for the process</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#mProcessId">mProcessId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process id we're searching for</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLConfig.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">AeSQLConfig</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#mSQLConfig">mSQLConfig</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contains the sql queries needed for this class</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#mTailLimit">mTailLimit</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max number of lines to include in the tail of the log</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#mTotalLineCount">mTotalLineCount</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total number of lines for entire process log</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;org.apache.commons.dbutils.ResultSetHandler</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#SMALL_LOG_HANDLER">SMALL_LOG_HANDLER</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shared instance of the resultset handler used to read small logs</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#SQL_GET_HEAD">SQL_GET_HEAD</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#SQL_GET_LOG_ENTRIES">SQL_GET_LOG_ENTRIES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#SQL_GET_SMALL_LOG">SQL_GET_SMALL_LOG</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#SQL_GET_TAIL">SQL_GET_TAIL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.activebpel.rt.bpel.server.engine.storage.sql.AeSQLObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class org.activebpel.rt.bpel.server.engine.storage.sql.<A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">AeSQLObject</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#AeLogReader(long, org.activebpel.rt.bpel.server.engine.storage.sql.AeSQLConfig)">AeLogReader</A></B>(long&nbsp;aProcessId,
            <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLConfig.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">AeSQLConfig</A>&nbsp;aConfig)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#findCounter(int, int)">findCounter</A></B>(int&nbsp;aLimit,
            int&nbsp;aStopValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Walks the list from the top, returning the value of the counter when it 
 gets the specified number of lines or greater.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#findHeadCounterValue()">findHeadCounterValue</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds the value of the counter from the sorted list that will give us the 
 number of entries we need for the head of the log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#findTailCounterValue(int)">findTailCounterValue</A></B>(int&nbsp;aHeadCounterValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds the value of the counter from the sorted list that will give us the 
 number of entries we need for the tail of the log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#getLogSegment(int, java.lang.String)">getLogSegment</A></B>(int&nbsp;aCounterValue,
              java.lang.String&nbsp;aSqlStatement)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the segment of the log indicated by the counter value and the
 sql statement.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLConfig.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">AeSQLConfig</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#getSQLConfig()">getSQLConfig</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Getter for the sql config</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#getSQLStatement(java.lang.String)">getSQLStatement</A></B>(java.lang.String&nbsp;aStatementName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a SQL statement from the SQL configuration object. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#getTotalLineCount()">getTotalLineCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Getter for the total number of lines in process log</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#readLog()">readLog</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads the log for the process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.html#setTotalLineCount(int)">setTotalLineCount</A></B>(int&nbsp;aI)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setter for the total number of lines in process log</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.activebpel.rt.bpel.server.engine.storage.sql.AeSQLObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.activebpel.rt.bpel.server.engine.storage.sql.<A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">AeSQLObject</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getCommitControlConnection()">getCommitControlConnection</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getCommitControlConnection(boolean)">getCommitControlConnection</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getConnection()">getConnection</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getContainerManagedConnection()">getContainerManagedConnection</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getDataSource()">getDataSource</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getDateAsLongOrSqlNull(java.util.Date)">getDateAsLongOrSqlNull</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getDateOrSqlNull(java.util.Date)">getDateOrSqlNull</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getLongOrSqlNull(java.lang.Long)">getLongOrSqlNull</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getNewConnection()">getNewConnection</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getQueryRunner()">getQueryRunner</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getStringOrSqlNullVarchar(java.lang.String)">getStringOrSqlNullVarchar</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getStringOrSqlNullVarcharNoEmpty(java.lang.String)">getStringOrSqlNullVarcharNoEmpty</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getTransactionConnection()">getTransactionConnection</A>, <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLObject.html#getTransactionConnection(boolean, boolean)">getTransactionConnection</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="SQL_GET_HEAD"><!-- --></A><H3>
SQL_GET_HEAD</H3>
<PRE>
private static final java.lang.String <B>SQL_GET_HEAD</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.activebpel.rt.bpel.server.logging.AeLogReader.SQL_GET_HEAD">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="SQL_GET_TAIL"><!-- --></A><H3>
SQL_GET_TAIL</H3>
<PRE>
private static final java.lang.String <B>SQL_GET_TAIL</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.activebpel.rt.bpel.server.logging.AeLogReader.SQL_GET_TAIL">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="SQL_GET_LOG_ENTRIES"><!-- --></A><H3>
SQL_GET_LOG_ENTRIES</H3>
<PRE>
private static final java.lang.String <B>SQL_GET_LOG_ENTRIES</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.activebpel.rt.bpel.server.logging.AeLogReader.SQL_GET_LOG_ENTRIES">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="SQL_GET_SMALL_LOG"><!-- --></A><H3>
SQL_GET_SMALL_LOG</H3>
<PRE>
private static final java.lang.String <B>SQL_GET_SMALL_LOG</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.activebpel.rt.bpel.server.logging.AeLogReader.SQL_GET_SMALL_LOG">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="SMALL_LOG_HANDLER"><!-- --></A><H3>
SMALL_LOG_HANDLER</H3>
<PRE>
private static final org.apache.commons.dbutils.ResultSetHandler <B>SMALL_LOG_HANDLER</B></PRE>
<DL>
<DD>shared instance of the resultset handler used to read small logs
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mProcessId"><!-- --></A><H3>
mProcessId</H3>
<PRE>
private java.lang.Long <B>mProcessId</B></PRE>
<DL>
<DD>process id we're searching for
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mSQLConfig"><!-- --></A><H3>
mSQLConfig</H3>
<PRE>
private <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLConfig.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">AeSQLConfig</A> <B>mSQLConfig</B></PRE>
<DL>
<DD>contains the sql queries needed for this class
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mLogEntries"><!-- --></A><H3>
mLogEntries</H3>
<PRE>
private java.util.List <B>mLogEntries</B></PRE>
<DL>
<DD>list of log entries for the process
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mTotalLineCount"><!-- --></A><H3>
mTotalLineCount</H3>
<PRE>
private int <B>mTotalLineCount</B></PRE>
<DL>
<DD>total number of lines for entire process log
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mHeadLimit"><!-- --></A><H3>
mHeadLimit</H3>
<PRE>
private int <B>mHeadLimit</B></PRE>
<DL>
<DD>max number of lines to include in the head of the log
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mTailLimit"><!-- --></A><H3>
mTailLimit</H3>
<PRE>
private int <B>mTailLimit</B></PRE>
<DL>
<DD>max number of lines to include in the tail of the log
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="AeLogReader(long, org.activebpel.rt.bpel.server.engine.storage.sql.AeSQLConfig)"><!-- --></A><H3>
AeLogReader</H3>
<PRE>
public <B>AeLogReader</B>(long&nbsp;aProcessId,
                   <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLConfig.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">AeSQLConfig</A>&nbsp;aConfig)</PRE>
<DL>
<DD>Ctor
<P>
<DT><B>Parameters:</B><DD><CODE>aProcessId</CODE> - </DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="readLog()"><!-- --></A><H3>
readLog</H3>
<PRE>
public java.lang.String <B>readLog</B>()
                         throws <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/AeStorageException.html" title="class in org.activebpel.rt.bpel.server.engine.storage">AeStorageException</A>,
                                java.sql.SQLException</PRE>
<DL>
<DD>Reads the log for the process.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/AeStorageException.html" title="class in org.activebpel.rt.bpel.server.engine.storage">AeStorageException</A></CODE>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLogSegment(int, java.lang.String)"><!-- --></A><H3>
getLogSegment</H3>
<PRE>
private java.lang.String <B>getLogSegment</B>(int&nbsp;aCounterValue,
                                       java.lang.String&nbsp;aSqlStatement)
                                throws java.sql.SQLException,
                                       <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/AeStorageException.html" title="class in org.activebpel.rt.bpel.server.engine.storage">AeStorageException</A></PRE>
<DL>
<DD>Returns the segment of the log indicated by the counter value and the
 sql statement.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aCounterValue</CODE> - value that identifies the row in the process log table to read<DD><CODE>aSqlStatement</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE>
<DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/AeStorageException.html" title="class in org.activebpel.rt.bpel.server.engine.storage">AeStorageException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="findHeadCounterValue()"><!-- --></A><H3>
findHeadCounterValue</H3>
<PRE>
protected int <B>findHeadCounterValue</B>()</PRE>
<DL>
<DD>Finds the value of the counter from the sorted list that will give us the 
 number of entries we need for the head of the log.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findTailCounterValue(int)"><!-- --></A><H3>
findTailCounterValue</H3>
<PRE>
protected int <B>findTailCounterValue</B>(int&nbsp;aHeadCounterValue)</PRE>
<DL>
<DD>Finds the value of the counter from the sorted list that will give us the 
 number of entries we need for the tail of the log.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findCounter(int, int)"><!-- --></A><H3>
findCounter</H3>
<PRE>
protected int <B>findCounter</B>(int&nbsp;aLimit,
                          int&nbsp;aStopValue)</PRE>
<DL>
<DD>Walks the list from the top, returning the value of the counter when it 
 gets the specified number of lines or greater.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aLimit</CODE> - - max number of lines we want<DD><CODE>aStopValue</CODE> - - we'll stop searching when we come across the counter
                     with this value.</DL>
</DD>
</DL>
<HR>

<A NAME="getSQLConfig()"><!-- --></A><H3>
getSQLConfig</H3>
<PRE>
protected <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/sql/AeSQLConfig.html" title="class in org.activebpel.rt.bpel.server.engine.storage.sql">AeSQLConfig</A> <B>getSQLConfig</B>()</PRE>
<DL>
<DD>Getter for the sql config
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSQLStatement(java.lang.String)"><!-- --></A><H3>
getSQLStatement</H3>
<PRE>
protected java.lang.String <B>getSQLStatement</B>(java.lang.String&nbsp;aStatementName)
                                    throws <A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/AeStorageException.html" title="class in org.activebpel.rt.bpel.server.engine.storage">AeStorageException</A></PRE>
<DL>
<DD>Returns a SQL statement from the SQL configuration object. This
 convenience method prepends the name of the statement with
 "LogReader.".
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aStatementName</CODE> - The name of the statement, such as "InsertProcess".
<DT><B>Returns:</B><DD>The SQL statement found for that name.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/server/engine/storage/AeStorageException.html" title="class in org.activebpel.rt.bpel.server.engine.storage">AeStorageException</A></CODE> - If the SQL statement is not found.</DL>
</DD>
</DL>
<HR>

<A NAME="getTotalLineCount()"><!-- --></A><H3>
getTotalLineCount</H3>
<PRE>
public int <B>getTotalLineCount</B>()</PRE>
<DL>
<DD>Getter for the total number of lines in process log
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setTotalLineCount(int)"><!-- --></A><H3>
setTotalLineCount</H3>
<PRE>
public void <B>setTotalLineCount</B>(int&nbsp;aI)</PRE>
<DL>
<DD>Setter for the total number of lines in process log
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aI</CODE> - </DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeLogReader.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLoggingFilter.AeNoDeadPathFilter.html" title="class in org.activebpel.rt.bpel.server.logging"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/server/logging/AeLogReader.AeLogEntry.html" title="class in org.activebpel.rt.bpel.server.logging"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeLogReader.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
                    <i>Copyright &#169; 2006 Active Endpoints. All Rights Reserved.</i>

</BODY>
</HTML>
