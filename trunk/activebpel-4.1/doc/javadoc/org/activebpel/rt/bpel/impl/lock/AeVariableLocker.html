<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_12) on Tue Sep 25 13:03:49 EDT 2007 -->
<TITLE>
AeVariableLocker (ActiveBpel API)
</TITLE>

<META NAME="keywords" CONTENT="org.activebpel.rt.bpel.impl.lock.AeVariableLocker class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="AeVariableLocker (ActiveBpel API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeVariableLocker.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeSharedLockRequest.html" title="class in org.activebpel.rt.bpel.impl.lock"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeVariableLocker.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.activebpel.rt.bpel.impl.lock</FONT>
<BR>
Class AeVariableLocker</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by"><B>org.activebpel.rt.bpel.impl.lock.AeVariableLocker</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLocker</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>AeVariableLocker</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLocker</A></DL>

<P>
Provides a locking facility for use in controlling access to variables when
 there are serializable scopes in the process. Serializable scopes require
 exclusive access to variables such that no other activity can read or write
 the variable data. This locking facility supports exclusive locks as well as
 shared locks. Shared locks are obtained by activities that exist outside the
 context of a serializable scope prior to their execution. These shared locks
 will serve to prevent an exlusive lock from being obtained but allow other
 shared locks to be obtained on the same variable. An exclusive lock does not
 allow more than one owner and will not be installed unless it's the only lock
 holder for the variable.

 If an activity is unable to obtain the lock it requires (either shared or
 exclusive) then it will not enter its ready to execute state until it receives
 a callback from this class via the IAeVariableLockCallback interface.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#mFailedLockRequests">mFailedLockRequests</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map of the failed lock requests that are awaiting an unlock to continue</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#mLockedPaths">mLockedPaths</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map of variable paths to their lock holders</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#mOwnersToVariablesLocked">mOwnersToVariablesLocked</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map of the owner paths to the variables that they have locked.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#AeVariableLocker()">AeVariableLocker</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#addExclusiveLock(java.util.Set, java.lang.String, org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)">addExclusiveLock</A></B>(java.util.Set&nbsp;aSetOfVariablePaths,
                 java.lang.String&nbsp;aOwnerXPath,
                 <A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLockCallback.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLockCallback</A>&nbsp;aCallback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if all of the variables in the set were able to be
 locked. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#addLockHolder(java.lang.String, java.lang.String, boolean)">addLockHolder</A></B>(java.lang.String&nbsp;aVariablePath,
              java.lang.String&nbsp;aOwnerPath,
              boolean&nbsp;aExclusive)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a lock holder.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#addLockRequest(java.lang.String, org.activebpel.rt.bpel.impl.lock.AeLockRequest)">addLockRequest</A></B>(java.lang.String&nbsp;aOwnerPath,
               <A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeLockRequest.html" title="class in org.activebpel.rt.bpel.impl.lock">AeLockRequest</A>&nbsp;aLockRequest)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a lock request to the set of lock requests to retry.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#addSharedLock(java.util.Set, java.lang.String, org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)">addSharedLock</A></B>(java.util.Set&nbsp;aSetOfVariablePaths,
              java.lang.String&nbsp;aOwnerXPath,
              <A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLockCallback.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLockCallback</A>&nbsp;aCallback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if all of the variables in the set were able to be
 locked. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#clearLocks()">clearLocks</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears all locks (for deserialization).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#clearRequests()">clearRequests</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears all outstanding lock requests (for deserialization).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#equals(java.lang.Object)">equals</A></B>(java.lang.Object&nbsp;o)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#getLockedPaths()">getLockedPaths</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns set of locked variable paths (for serialization).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.w3c.dom.DocumentFragment</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#getLockerData(org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)">getLockerData</A></B>(<A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLockCallback.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLockCallback</A>&nbsp;aCallback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns serialization of this variable locker suitable for input to
 <code>setLockerData</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeLockHolder.html" title="class in org.activebpel.rt.bpel.impl.lock">AeLockHolder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#getLockHolder(java.lang.String)">getLockHolder</A></B>(java.lang.String&nbsp;aVariablePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the lock holder for the path specified.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#getLockRequests()">getLockRequests</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns collection of outstanding lock requests (for serialization).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#hashCode()">hashCode</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#isLocked(java.lang.String)">isLocked</A></B>(java.lang.String&nbsp;aVariablePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <true>true</code> if and only if the specified variable path is locked.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#releaseLocks(java.lang.String)">releaseLocks</A></B>(java.lang.String&nbsp;aOwner)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by an activity once it has finished executing or has faulted. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#removeLocks(java.util.Set, java.lang.String)">removeLocks</A></B>(java.util.Set&nbsp;aSetOfVariablePaths,
            java.lang.String&nbsp;aOwner)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Walks the set of variable paths being unlocked and removes them
 from their lock holders. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#retryFailedRequests()">retryFailedRequests</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retries all of the existing failed requests. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeVariableLocker.html#setLockerData(org.w3c.dom.Node, org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)">setLockerData</A></B>(org.w3c.dom.Node&nbsp;aNode,
              <A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLockCallback.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLockCallback</A>&nbsp;aCallback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets this variable locker's data from a serialization produced by
 <code>getLockerData</code>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, finalize, getClass, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="mLockedPaths"><!-- --></A><H3>
mLockedPaths</H3>
<PRE>
private java.util.Map <B>mLockedPaths</B></PRE>
<DL>
<DD>Map of variable paths to their lock holders
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mFailedLockRequests"><!-- --></A><H3>
mFailedLockRequests</H3>
<PRE>
private java.util.Map <B>mFailedLockRequests</B></PRE>
<DL>
<DD>Map of the failed lock requests that are awaiting an unlock to continue
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mOwnersToVariablesLocked"><!-- --></A><H3>
mOwnersToVariablesLocked</H3>
<PRE>
private java.util.Map <B>mOwnersToVariablesLocked</B></PRE>
<DL>
<DD>Map of the owner paths to the variables that they have locked.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="AeVariableLocker()"><!-- --></A><H3>
AeVariableLocker</H3>
<PRE>
public <B>AeVariableLocker</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="addExclusiveLock(java.util.Set, java.lang.String, org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)"><!-- --></A><H3>
addExclusiveLock</H3>
<PRE>
public boolean <B>addExclusiveLock</B>(java.util.Set&nbsp;aSetOfVariablePaths,
                                java.lang.String&nbsp;aOwnerXPath,
                                <A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLockCallback.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLockCallback</A>&nbsp;aCallback)</PRE>
<DL>
<DD>Returns true if all of the variables in the set were able to be
 locked. If one or more were already locked by a previous call then the
 method will return false and the callback instance we be notified when
 the variables have been locked.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html#addExclusiveLock(java.util.Set, java.lang.String, org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)">addExclusiveLock</A></CODE> in interface <CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLocker</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aSetOfVariablePaths</CODE> - The location paths of the variables you want to lock<DD><CODE>aOwnerXPath</CODE> - The location path of the caller<DD><CODE>aCallback</CODE> - The callback object that gets notified when the lock is
                  acquired if it's not immediately available</DL>
</DD>
</DL>
<HR>

<A NAME="addSharedLock(java.util.Set, java.lang.String, org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)"><!-- --></A><H3>
addSharedLock</H3>
<PRE>
public boolean <B>addSharedLock</B>(java.util.Set&nbsp;aSetOfVariablePaths,
                             java.lang.String&nbsp;aOwnerXPath,
                             <A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLockCallback.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLockCallback</A>&nbsp;aCallback)</PRE>
<DL>
<DD>Returns true if all of the variables in the set were able to be
 locked. Shared locks will be denied only if an exclusive lock is present
 on the variable being requested.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html#addSharedLock(java.util.Set, java.lang.String, org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)">addSharedLock</A></CODE> in interface <CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLocker</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aSetOfVariablePaths</CODE> - The location paths of the variables you want to lock<DD><CODE>aOwnerXPath</CODE> - The location path of the caller<DD><CODE>aCallback</CODE> - The callback object that gets notified when the lock is
                  acquired if it's not immediately available</DL>
</DD>
</DL>
<HR>

<A NAME="releaseLocks(java.lang.String)"><!-- --></A><H3>
releaseLocks</H3>
<PRE>
public void <B>releaseLocks</B>(java.lang.String&nbsp;aOwner)
                  throws <A HREF="../../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></PRE>
<DL>
<DD>Called by an activity once it has finished executing or has faulted. This unlocks
 all of the variables in the set and will possibly result in notifying
 one or more of the waiting callbacks.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html#releaseLocks(java.lang.String)">releaseLocks</A></CODE> in interface <CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLocker</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aOwner</CODE> - - the owner of the lock
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="removeLocks(java.util.Set, java.lang.String)"><!-- --></A><H3>
removeLocks</H3>
<PRE>
private void <B>removeLocks</B>(java.util.Set&nbsp;aSetOfVariablePaths,
                         java.lang.String&nbsp;aOwner)</PRE>
<DL>
<DD>Walks the set of variable paths being unlocked and removes them
 from their lock holders. If the removal causes a lock holder to become
 empty then it is removed from the map of locked variables.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aSetOfVariablePaths</CODE> - - A set of variable location paths<DD><CODE>aOwner</CODE> - - location path for the lock owner being removed</DL>
</DD>
</DL>
<HR>

<A NAME="retryFailedRequests()"><!-- --></A><H3>
retryFailedRequests</H3>
<PRE>
private void <B>retryFailedRequests</B>()
                          throws <A HREF="../../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></PRE>
<DL>
<DD>Retries all of the existing failed requests. This gets called each time
 an activity releases its locks.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLockHolder(java.lang.String)"><!-- --></A><H3>
getLockHolder</H3>
<PRE>
<A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeLockHolder.html" title="class in org.activebpel.rt.bpel.impl.lock">AeLockHolder</A> <B>getLockHolder</B>(java.lang.String&nbsp;aVariablePath)</PRE>
<DL>
<DD>Gets the lock holder for the path specified.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aVariablePath</CODE> - - path to the variable</DL>
</DD>
</DL>
<HR>

<A NAME="addLockHolder(java.lang.String, java.lang.String, boolean)"><!-- --></A><H3>
addLockHolder</H3>
<PRE>
void <B>addLockHolder</B>(java.lang.String&nbsp;aVariablePath,
                   java.lang.String&nbsp;aOwnerPath,
                   boolean&nbsp;aExclusive)</PRE>
<DL>
<DD>Adds a lock holder.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aVariablePath</CODE> - <DD><CODE>aOwnerPath</CODE> - <DD><CODE>aExclusive</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="addLockRequest(java.lang.String, org.activebpel.rt.bpel.impl.lock.AeLockRequest)"><!-- --></A><H3>
addLockRequest</H3>
<PRE>
void <B>addLockRequest</B>(java.lang.String&nbsp;aOwnerPath,
                    <A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeLockRequest.html" title="class in org.activebpel.rt.bpel.impl.lock">AeLockRequest</A>&nbsp;aLockRequest)</PRE>
<DL>
<DD>Adds a lock request to the set of lock requests to retry.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aOwnerPath</CODE> - <DD><CODE>aLockRequest</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="clearLocks()"><!-- --></A><H3>
clearLocks</H3>
<PRE>
void <B>clearLocks</B>()</PRE>
<DL>
<DD>Clears all locks (for deserialization).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="clearRequests()"><!-- --></A><H3>
clearRequests</H3>
<PRE>
void <B>clearRequests</B>()</PRE>
<DL>
<DD>Clears all outstanding lock requests (for deserialization).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="equals(java.lang.Object)"><!-- --></A><H3>
equals</H3>
<PRE>
public boolean <B>equals</B>(java.lang.Object&nbsp;o)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><CODE>Object.equals(java.lang.Object)</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLockedPaths()"><!-- --></A><H3>
getLockedPaths</H3>
<PRE>
java.util.Set <B>getLockedPaths</B>()</PRE>
<DL>
<DD>Returns set of locked variable paths (for serialization).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLockRequests()"><!-- --></A><H3>
getLockRequests</H3>
<PRE>
java.util.Collection <B>getLockRequests</B>()</PRE>
<DL>
<DD>Returns collection of outstanding lock requests (for serialization).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLockerData(org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)"><!-- --></A><H3>
getLockerData</H3>
<PRE>
public org.w3c.dom.DocumentFragment <B>getLockerData</B>(<A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLockCallback.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLockCallback</A>&nbsp;aCallback)
                                           throws <A HREF="../../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></PRE>
<DL>
<DD>Returns serialization of this variable locker suitable for input to
 <code>setLockerData</code>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html#getLockerData(org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)">getLockerData</A></CODE> in interface <CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLocker</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aCallback</CODE> - which callback to serialize lock requests for
<DT><B>Returns:</B><DD>DocumentFragment the serialized locker data
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE>
<DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="hashCode()"><!-- --></A><H3>
hashCode</H3>
<PRE>
public int <B>hashCode</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><CODE>Object.hashCode()</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isLocked(java.lang.String)"><!-- --></A><H3>
isLocked</H3>
<PRE>
boolean <B>isLocked</B>(java.lang.String&nbsp;aVariablePath)</PRE>
<DL>
<DD>Returns <true>true</code> if and only if the specified variable path is locked.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aVariablePath</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="setLockerData(org.w3c.dom.Node, org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)"><!-- --></A><H3>
setLockerData</H3>
<PRE>
public void <B>setLockerData</B>(org.w3c.dom.Node&nbsp;aNode,
                          <A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLockCallback.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLockCallback</A>&nbsp;aCallback)
                   throws <A HREF="../../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></PRE>
<DL>
<DD>Sets this variable locker's data from a serialization produced by
 <code>getLockerData</code>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html#setLockerData(org.w3c.dom.Node, org.activebpel.rt.bpel.impl.lock.IAeVariableLockCallback)">setLockerData</A></CODE> in interface <CODE><A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/IAeVariableLocker.html" title="interface in org.activebpel.rt.bpel.impl.lock">IAeVariableLocker</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aNode</CODE> - the serialized locker data<DD><CODE>aCallback</CODE> - which callback to use when reconstructing lock requests
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE>
<DD><CODE><A HREF="../../../../../../org/activebpel/rt/bpel/AeBusinessProcessException.html" title="class in org.activebpel.rt.bpel">AeBusinessProcessException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeVariableLocker.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/activebpel/rt/bpel/impl/lock/AeSharedLockRequest.html" title="class in org.activebpel.rt.bpel.impl.lock"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeVariableLocker.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
                    <i>Copyright &#169; 2006 Active Endpoints. All Rights Reserved.</i>

</BODY>
</HTML>
