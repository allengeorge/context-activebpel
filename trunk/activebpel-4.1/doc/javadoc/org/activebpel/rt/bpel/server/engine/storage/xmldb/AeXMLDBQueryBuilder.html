<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_12) on Tue Sep 25 13:03:55 EDT 2007 -->
<TITLE>
AeXMLDBQueryBuilder (ActiveBpel API)
</TITLE>

<META NAME="keywords" CONTENT="org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBQueryBuilder class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="AeXMLDBQueryBuilder (ActiveBpel API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeXMLDBQueryBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBStorageConnection.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeXMLDBQueryBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.activebpel.rt.bpel.server.engine.storage.xmldb</FONT>
<BR>
Class AeXMLDBQueryBuilder</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb">org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBObject</A>
      <IMG SRC="../../../../../../../../resources/inherit.gif" ALT="extended by"><B>org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBQueryBuilder</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/queue/AeXMLDBFilteredAlarmListQueryBuilder.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb.queue">AeXMLDBFilteredAlarmListQueryBuilder</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/queue/AeXMLDBFilteredMessageReceiverListQueryBuilder.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb.queue">AeXMLDBFilteredMessageReceiverListQueryBuilder</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/process/AeXMLDBFilteredProcessListQueryBuilder.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb.process">AeXMLDBFilteredProcessListQueryBuilder</A></DD>
</DL>
<HR>
<DL>
<DT>public abstract class <B>AeXMLDBQueryBuilder</B><DT>extends <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb">AeXMLDBObject</A></DL>

<P>
A XMLDB query builder creates a XMLDB query (typically an XQuery) from a filter.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#LIMIT">LIMIT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The limit on the # of items to retrieve from the DB</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#mCountOnlyFlag">mCountOnlyFlag</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The flag indicating whether we should return only the count (for select statements).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../../../../org/activebpel/rt/bpel/impl/list/IAeListingFilter.html" title="interface in org.activebpel.rt.bpel.impl.list">IAeListingFilter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#mFilter">mFilter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter used to form this query (if any).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#mKey">mKey</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The key to use for locating the statements for this query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#mUseLimit">mUseLimit</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A flag indicating whether to use the query limit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#QUERY_POSITION_PATTERN">QUERY_POSITION_PATTERN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the query return pattern for selecting a range of results.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#QUERY_RETURN_PATTERN">QUERY_RETURN_PATTERN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the query return pattern to use for the xquery</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class org.activebpel.rt.bpel.server.engine.storage.xmldb.<A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb">AeXMLDBObject</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#AeXMLDBQueryBuilder(org.activebpel.rt.bpel.impl.list.IAeListingFilter, org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBConfig, java.lang.String, java.lang.String, org.activebpel.rt.bpel.server.engine.storage.xmldb.IAeXMLDBStorageImpl)">AeXMLDBQueryBuilder</A></B>(<A HREF="../../../../../../../../org/activebpel/rt/bpel/impl/list/IAeListingFilter.html" title="interface in org.activebpel.rt.bpel.impl.list">IAeListingFilter</A>&nbsp;aFilter,
                    <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBConfig.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb">AeXMLDBConfig</A>&nbsp;aXMLDBConfig,
                    java.lang.String&nbsp;aPrefix,
                    java.lang.String&nbsp;aKey,
                    <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/IAeXMLDBStorageImpl.html" title="interface in org.activebpel.rt.bpel.server.engine.storage.xmldb">IAeXMLDBStorageImpl</A>&nbsp;aStorageImpl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a xmldb query builder.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#appendCountQuery(java.lang.StringBuffer)">appendCountQuery</A></B>(java.lang.StringBuffer&nbsp;aBuffer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Appends the Count query to the buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#appendSelectQuery(java.lang.StringBuffer)">appendSelectQuery</A></B>(java.lang.StringBuffer&nbsp;aBuffer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Appends the Select query to the buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#appendToBuffer(java.lang.String, java.lang.StringBuffer)">appendToBuffer</A></B>(java.lang.String&nbsp;aString,
               java.lang.StringBuffer&nbsp;aBuffer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Appends a string to the buffer.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#appendToBuffer(java.lang.String, java.lang.StringBuffer, boolean)">appendToBuffer</A></B>(java.lang.String&nbsp;aString,
               java.lang.StringBuffer&nbsp;aBuffer,
               boolean&nbsp;aRequired)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Appends a string to the buffer.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#buildDeleteQuery()">buildDeleteQuery</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Builds a XMLDB update XQuery capable of deleting the doc instances that match the filter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#buildQuery()">buildQuery</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Builds the query given the filter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#createPositionCriteria()">createPositionCriteria</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the criteria used for choosing only those instances we want based on the positional
 data in the filter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#createQueryReturn()">createQueryReturn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the XQuery return value used to wrap the query result in order to return the values
 expected by the response handler.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getDecl()">getDecl</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 'decl' portion of the XQuery (FLWOR) query.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getDeletedDocumentType()">getDeletedDocumentType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called to determine which doc types to count when tallying the number of
 doc instances that have been deleted.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getDo()">getDo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 'do' portion of the XQuery (FLWU) query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../../../org/activebpel/rt/bpel/impl/list/IAeListingFilter.html" title="interface in org.activebpel.rt.bpel.impl.list">IAeListingFilter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getFilter()">getFilter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getFor()">getFor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 'for' (and 'let') portion of the XQuery (FLWOR) query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getKey()">getKey</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getOrderBy()">getOrderBy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 'order by' portion of the XQuery (FLWOR) query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getReturn()">getReturn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 'return' portion of the XQuery (FLWOR) query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getUpdate()">getUpdate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 'update' portion of the XQuery (FLWU) query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#getWhere()">getWhere</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 'where' portion of the XQuery (FLWOR) query.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#isCountOnlyFlag()">isCountOnlyFlag</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#isUseLimit()">isUseLimit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#joinAndClauseList(java.util.List)">joinAndClauseList</A></B>(java.util.List&nbsp;aAndClauses)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Formats a List of AND clauses (for use in the where portion of a FLWOR expression).  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#joinAndClauseList(java.util.List, boolean)">joinAndClauseList</A></B>(java.util.List&nbsp;aAndClauses,
                  boolean&nbsp;aAppendWhere)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Formats a List of AND clauses (for use in the where portion of a FLWOR expression).  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#setCountOnlyFlag(boolean)">setCountOnlyFlag</A></B>(boolean&nbsp;aCountOnlyFlag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#setFilter(org.activebpel.rt.bpel.impl.list.IAeListingFilter)">setFilter</A></B>(<A HREF="../../../../../../../../org/activebpel/rt/bpel/impl/list/IAeListingFilter.html" title="interface in org.activebpel.rt.bpel.impl.list">IAeListingFilter</A>&nbsp;aFilter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#setKey(java.lang.String)">setKey</A></B>(java.lang.String&nbsp;aKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBQueryBuilder.html#setUseLimit(boolean)">setUseLimit</A></B>(boolean&nbsp;aUseLimit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.activebpel.rt.bpel.server.engine.storage.xmldb.<A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb">AeXMLDBObject</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#formatStatement(java.lang.String, java.lang.Object[])">formatStatement</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getConfigPrefix()">getConfigPrefix</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getCurrentStatementName()">getCurrentStatementName</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getNewConnection()">getNewConnection</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getNewConnection(boolean)">getNewConnection</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getStorageImpl()">getStorageImpl</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getTransaction()">getTransaction</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getTransactionManagerConnection(boolean)">getTransactionManagerConnection</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getXMLDBConfig()">getXMLDBConfig</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getXMLDBDataSource()">getXMLDBDataSource</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#getXQueryStatement(java.lang.String)">getXQueryStatement</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#resolveXQueryKey(java.lang.String)">resolveXQueryKey</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#setConfigPrefix(java.lang.String)">setConfigPrefix</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#setCurrentStatementName(java.lang.String)">setCurrentStatementName</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#setStorageImpl(org.activebpel.rt.bpel.server.engine.storage.xmldb.IAeXMLDBStorageImpl)">setStorageImpl</A>, <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html#setXMLDBConfig(org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBConfig)">setXMLDBConfig</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="QUERY_POSITION_PATTERN"><!-- --></A><H3>
QUERY_POSITION_PATTERN</H3>
<PRE>
protected static final java.lang.String <B>QUERY_POSITION_PATTERN</B></PRE>
<DL>
<DD>the query return pattern for selecting a range of results.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../../../constant-values.html#org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBQueryBuilder.QUERY_POSITION_PATTERN">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="QUERY_RETURN_PATTERN"><!-- --></A><H3>
QUERY_RETURN_PATTERN</H3>
<PRE>
protected static final java.lang.String <B>QUERY_RETURN_PATTERN</B></PRE>
<DL>
<DD>the query return pattern to use for the xquery
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../../../constant-values.html#org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBQueryBuilder.QUERY_RETURN_PATTERN">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="LIMIT"><!-- --></A><H3>
LIMIT</H3>
<PRE>
public static final int <B>LIMIT</B></PRE>
<DL>
<DD>The limit on the # of items to retrieve from the DB
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../../../constant-values.html#org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBQueryBuilder.LIMIT">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="mFilter"><!-- --></A><H3>
mFilter</H3>
<PRE>
private <A HREF="../../../../../../../../org/activebpel/rt/bpel/impl/list/IAeListingFilter.html" title="interface in org.activebpel.rt.bpel.impl.list">IAeListingFilter</A> <B>mFilter</B></PRE>
<DL>
<DD>The filter used to form this query (if any).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mCountOnlyFlag"><!-- --></A><H3>
mCountOnlyFlag</H3>
<PRE>
private boolean <B>mCountOnlyFlag</B></PRE>
<DL>
<DD>The flag indicating whether we should return only the count (for select statements).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mKey"><!-- --></A><H3>
mKey</H3>
<PRE>
private java.lang.String <B>mKey</B></PRE>
<DL>
<DD>The key to use for locating the statements for this query.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mUseLimit"><!-- --></A><H3>
mUseLimit</H3>
<PRE>
private boolean <B>mUseLimit</B></PRE>
<DL>
<DD>A flag indicating whether to use the query limit.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="AeXMLDBQueryBuilder(org.activebpel.rt.bpel.impl.list.IAeListingFilter, org.activebpel.rt.bpel.server.engine.storage.xmldb.AeXMLDBConfig, java.lang.String, java.lang.String, org.activebpel.rt.bpel.server.engine.storage.xmldb.IAeXMLDBStorageImpl)"><!-- --></A><H3>
AeXMLDBQueryBuilder</H3>
<PRE>
public <B>AeXMLDBQueryBuilder</B>(<A HREF="../../../../../../../../org/activebpel/rt/bpel/impl/list/IAeListingFilter.html" title="interface in org.activebpel.rt.bpel.impl.list">IAeListingFilter</A>&nbsp;aFilter,
                           <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBConfig.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb">AeXMLDBConfig</A>&nbsp;aXMLDBConfig,
                           java.lang.String&nbsp;aPrefix,
                           java.lang.String&nbsp;aKey,
                           <A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/IAeXMLDBStorageImpl.html" title="interface in org.activebpel.rt.bpel.server.engine.storage.xmldb">IAeXMLDBStorageImpl</A>&nbsp;aStorageImpl)</PRE>
<DL>
<DD>Creates a xmldb query builder.
<P>
<DT><B>Parameters:</B><DD><CODE>aFilter</CODE> - <DD><CODE>aXMLDBConfig</CODE> - <DD><CODE>aPrefix</CODE> - <DD><CODE>aKey</CODE> - <DD><CODE>aStorageImpl</CODE> - </DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getDeletedDocumentType()"><!-- --></A><H3>
getDeletedDocumentType</H3>
<PRE>
public java.lang.String <B>getDeletedDocumentType</B>()</PRE>
<DL>
<DD>This method is called to determine which doc types to count when tallying the number of
 doc instances that have been deleted.  In some cases, we will delete various types of
 documents, but we only want to return the # of "primary" instances deleted.  If null is
 returned from this method, all instances will be counted.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="joinAndClauseList(java.util.List)"><!-- --></A><H3>
joinAndClauseList</H3>
<PRE>
protected static java.lang.String <B>joinAndClauseList</B>(java.util.List&nbsp;aAndClauses)</PRE>
<DL>
<DD>Formats a List of AND clauses (for use in the where portion of a FLWOR expression).  This amounts
 to creating a string that starts with 'where' and appends each item in the List to the String, separating
 each additional clause by the word 'and'.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aAndClauses</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="joinAndClauseList(java.util.List, boolean)"><!-- --></A><H3>
joinAndClauseList</H3>
<PRE>
protected static java.lang.String <B>joinAndClauseList</B>(java.util.List&nbsp;aAndClauses,
                                                    boolean&nbsp;aAppendWhere)</PRE>
<DL>
<DD>Formats a List of AND clauses (for use in the where portion of a FLWOR expression).  This amounts
 to creating a string that starts with 'where' and appends each item in the List to the String, separating
 each additional clause by the word 'and'.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aAndClauses</CODE> - <DD><CODE>aAppendWhere</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="appendToBuffer(java.lang.String, java.lang.StringBuffer, boolean)"><!-- --></A><H3>
appendToBuffer</H3>
<PRE>
protected void <B>appendToBuffer</B>(java.lang.String&nbsp;aString,
                              java.lang.StringBuffer&nbsp;aBuffer,
                              boolean&nbsp;aRequired)
                       throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Appends a string to the buffer.  If the string is required and empty or null, this method will
 throw an exception.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aString</CODE> - <DD><CODE>aBuffer</CODE> - <DD><CODE>aRequired</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="appendToBuffer(java.lang.String, java.lang.StringBuffer)"><!-- --></A><H3>
appendToBuffer</H3>
<PRE>
protected void <B>appendToBuffer</B>(java.lang.String&nbsp;aString,
                              java.lang.StringBuffer&nbsp;aBuffer)
                       throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Appends a string to the buffer.  Assumes that the string is not required.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aString</CODE> - <DD><CODE>aBuffer</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="appendCountQuery(java.lang.StringBuffer)"><!-- --></A><H3>
appendCountQuery</H3>
<PRE>
protected void <B>appendCountQuery</B>(java.lang.StringBuffer&nbsp;aBuffer)
                         throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Appends the Count query to the buffer.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aBuffer</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="appendSelectQuery(java.lang.StringBuffer)"><!-- --></A><H3>
appendSelectQuery</H3>
<PRE>
protected void <B>appendSelectQuery</B>(java.lang.StringBuffer&nbsp;aBuffer)
                          throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Appends the Select query to the buffer.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aBuffer</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="buildQuery()"><!-- --></A><H3>
buildQuery</H3>
<PRE>
public java.lang.String <B>buildQuery</B>()
                            throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Builds the query given the filter.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="buildDeleteQuery()"><!-- --></A><H3>
buildDeleteQuery</H3>
<PRE>
public java.lang.String <B>buildDeleteQuery</B>()
                                  throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Builds a XMLDB update XQuery capable of deleting the doc instances that match the filter.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDecl()"><!-- --></A><H3>
getDecl</H3>
<PRE>
protected java.lang.String <B>getDecl</B>()</PRE>
<DL>
<DD>Returns the 'decl' portion of the XQuery (FLWOR) query.  This section has namespace 
 declarations needed by the xquery.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createQueryReturn()"><!-- --></A><H3>
createQueryReturn</H3>
<PRE>
protected java.lang.String <B>createQueryReturn</B>()</PRE>
<DL>
<DD>Creates the XQuery return value used to wrap the query result in order to return the values
 expected by the response handler.  The xquery will return the total count of items in the query
 but only return the # requested by the filter.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createPositionCriteria()"><!-- --></A><H3>
createPositionCriteria</H3>
<PRE>
protected java.lang.String <B>createPositionCriteria</B>()</PRE>
<DL>
<DD>Creates the criteria used for choosing only those instances we want based on the positional
 data in the filter.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getFor()"><!-- --></A><H3>
getFor</H3>
<PRE>
protected java.lang.String <B>getFor</B>()
                           throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Returns the 'for' (and 'let') portion of the XQuery (FLWOR) query.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getUpdate()"><!-- --></A><H3>
getUpdate</H3>
<PRE>
protected java.lang.String <B>getUpdate</B>()
                              throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Returns the 'update' portion of the XQuery (FLWU) query.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getWhere()"><!-- --></A><H3>
getWhere</H3>
<PRE>
protected java.lang.String <B>getWhere</B>()
                             throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Returns the 'where' portion of the XQuery (FLWOR) query.  This will typically be overridden by
 subclasses.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getOrderBy()"><!-- --></A><H3>
getOrderBy</H3>
<PRE>
protected java.lang.String <B>getOrderBy</B>()
                               throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Returns the 'order by' portion of the XQuery (FLWOR) query.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getReturn()"><!-- --></A><H3>
getReturn</H3>
<PRE>
protected java.lang.String <B>getReturn</B>()
                              throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Returns the 'return' portion of the XQuery (FLWOR) query.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDo()"><!-- --></A><H3>
getDo</H3>
<PRE>
protected java.lang.String <B>getDo</B>()
                          throws <A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></PRE>
<DL>
<DD>Returns the 'do' portion of the XQuery (FLWU) query.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/activebpel/rt/AeException.html" title="class in org.activebpel.rt">AeException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getKey()"><!-- --></A><H3>
getKey</H3>
<PRE>
protected java.lang.String <B>getKey</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the key.</DL>
</DD>
</DL>
<HR>

<A NAME="setKey(java.lang.String)"><!-- --></A><H3>
setKey</H3>
<PRE>
protected void <B>setKey</B>(java.lang.String&nbsp;aKey)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aKey</CODE> - The key to set.</DL>
</DD>
</DL>
<HR>

<A NAME="getFilter()"><!-- --></A><H3>
getFilter</H3>
<PRE>
protected <A HREF="../../../../../../../../org/activebpel/rt/bpel/impl/list/IAeListingFilter.html" title="interface in org.activebpel.rt.bpel.impl.list">IAeListingFilter</A> <B>getFilter</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the filter.</DL>
</DD>
</DL>
<HR>

<A NAME="setFilter(org.activebpel.rt.bpel.impl.list.IAeListingFilter)"><!-- --></A><H3>
setFilter</H3>
<PRE>
protected void <B>setFilter</B>(<A HREF="../../../../../../../../org/activebpel/rt/bpel/impl/list/IAeListingFilter.html" title="interface in org.activebpel.rt.bpel.impl.list">IAeListingFilter</A>&nbsp;aFilter)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aFilter</CODE> - The filter to set.</DL>
</DD>
</DL>
<HR>

<A NAME="isUseLimit()"><!-- --></A><H3>
isUseLimit</H3>
<PRE>
public boolean <B>isUseLimit</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the useLimit.</DL>
</DD>
</DL>
<HR>

<A NAME="setUseLimit(boolean)"><!-- --></A><H3>
setUseLimit</H3>
<PRE>
public void <B>setUseLimit</B>(boolean&nbsp;aUseLimit)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aUseLimit</CODE> - The useLimit to set.</DL>
</DD>
</DL>
<HR>

<A NAME="isCountOnlyFlag()"><!-- --></A><H3>
isCountOnlyFlag</H3>
<PRE>
protected boolean <B>isCountOnlyFlag</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the countOnlyFlag.</DL>
</DD>
</DL>
<HR>

<A NAME="setCountOnlyFlag(boolean)"><!-- --></A><H3>
setCountOnlyFlag</H3>
<PRE>
public void <B>setCountOnlyFlag</B>(boolean&nbsp;aCountOnlyFlag)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>aCountOnlyFlag</CODE> - The countOnlyFlag to set.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AeXMLDBQueryBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBObject.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../../../org/activebpel/rt/bpel/server/engine/storage/xmldb/AeXMLDBStorageConnection.html" title="class in org.activebpel.rt.bpel.server.engine.storage.xmldb"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AeXMLDBQueryBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
                    <i>Copyright &#169; 2006 Active Endpoints. All Rights Reserved.</i>

</BODY>
</HTML>
